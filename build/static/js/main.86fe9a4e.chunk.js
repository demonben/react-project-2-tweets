(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(31),c=n.n(r),i=(n(39),n(34)),u=n(12),o=n.n(u),l=n(16),h=n(8),j=n(9),b=n(11),d=n(10),p=(n(41),n(19)),m=n.n(p),f="https://micro-blogging-dot-full-stack-course-services.ew.r.appspot.com/";function x(){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(f,"/tweet"));case 2:return t=e.sent,e.abrupt("return",t.data.tweets);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(l.a)(o.a.mark((function e(t,n){var a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).toISOString(),s={content:t,userName:n,date:a},e.prev=2,e.next=5,m.a.post("".concat(f,"/tweet"),s);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),alert("something goes wrong");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var g=n(1),w=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={text:"",userName:""},a}return Object(j.a)(n,[{key:"changeInputText",value:function(e){this.setState({text:e})}},{key:"formSubmit",value:function(e){var t=this;e.preventDefault(),function(e,t){return v.apply(this,arguments)}(this.state.text,this.state.userName).then((function(){x().then((function(e){t.props.updateTweets(e)}))}))}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("username");this.setState({userName:e})}},{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{children:Object(g.jsx)("form",{onSubmit:function(t){e.formSubmit(t)},children:Object(g.jsxs)("label",{className:"label",htmlFor:"text",children:[Object(g.jsx)("textarea",{placeholder:"What you have in mind...",className:"textarea",type:"text",name:"text",id:"text",value:this.state.text,onChange:function(t){return e.changeInputText(t.target.value)}}),Object(g.jsx)("button",{className:"button btn btn-primary",type:"submit",disabled:this.state.text.length>140||this.props.isButtonIsDisable,children:"Tweet"})]})})})}}]),n}(s.a.Component),N=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={},a}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"tweet",children:[Object(g.jsxs)("div",{className:"userAndDate",children:[Object(g.jsx)("p",{children:this.props.tweet.userName}),Object(g.jsx)("p",{children:this.props.tweet.date})]}),Object(g.jsx)("div",{className:"content",children:Object(g.jsx)("p",{children:this.props.tweet.content})})]})}}]),n}(s.a.Component),y=s.a.createContext();var k=function(){return Object(g.jsx)(y.Consumer,{children:function(e){return Object(g.jsxs)("div",{className:"tweetList",children:[console.log(e),e.map((function(e,t){return Object(g.jsx)(N,{tweet:e,index:t},e.id)}))]})}})},S=n(32),C=n.n(S),T=function(e){e.type,e.color;return Object(g.jsx)(C.a,{type:"cubes",color:"red",height:50,width:50})},D=n(13),I=n(2),L=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={},a}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"navContainer",children:Object(g.jsxs)("ul",{className:"barnav nav",children:[Object(g.jsx)("li",{className:"",children:Object(g.jsx)(D.b,{className:"nav-item",to:"/home",children:"Home"})}),Object(g.jsx)("li",{children:Object(g.jsx)(D.b,{className:"nav-item",to:"/profile",children:"Profile"})})]})})}}]),n}(s.a.Component),F=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={userName:""},a}return Object(j.a)(n,[{key:"changUser",value:function(e){e.preventDefault(),this.setState({userName:e})}},{key:"putUserNameInLocalStorage",value:function(){localStorage.setItem("username",this.state.userName)}},{key:"render",value:function(){var e=this;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"profileContainer",children:[Object(g.jsx)("h2",{className:"headerProfile",children:"Profile"}),Object(g.jsx)("p",{className:"profile",children:"USER NAME"}),Object(g.jsx)("form",{onSubmit:function(t){e.changUser(t)},children:Object(g.jsxs)("label",{htmlFor:"text",children:[Object(g.jsx)("textarea",{className:"inputUser",type:"text",name:"text",id:"text",onChange:function(t){return e.setState({userName:t.target.value})}}),Object(g.jsx)("p",{children:Object(g.jsx)("button",{className:" btn btn-primary",onClick:function(){return e.putUserNameInLocalStorage()},children:"Save"})})]})})]})})}}]),n}(s.a.Component),B=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).updateTweets=function(e){a.setState({tweets:e})},a.state={tweets:[],isLoading:!1},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.loadTweets()}},{key:"loadTweets",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,x();case 3:t=e.sent,this.setState({tweets:t,isLoading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"callBack",value:function(e){this.setState({tweets:JSON.parse(e)})}},{key:"callBacker",value:function(){console.log("wp")}},{key:"addTweet",value:function(e,t){this.setState((function(t){var n={id:Date.now(),text:e,time:new Date+"",userName:""};return{tweets:[].concat(Object(i.a)(t.tweets),[n])}}))}},{key:"userNameChanger",value:function(e){this.setState({userName:e}),console.log(this.state.userName)}},{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(D.a,{children:[Object(g.jsx)(L,{}),Object(g.jsxs)(I.b,{children:[Object(g.jsxs)(D.a,{path:"/home",children:[Object(g.jsx)(w,{isButtonIsDisable:this.state.isLoading,dataForStorage:this.state.tweets,changeText:function(t){e.addTweet(t)},callBack:function(t){return e.callBack(t)},userName:this.state.userName,updateTweets:this.updateTweets}),this.state.isLoading&&Object(g.jsx)(T,{}),Object(g.jsx)(y.Provider,{value:this.state.tweets,children:Object(g.jsx)(k,{dataForList:this.state.tweets})})]}),Object(g.jsx)(D.a,{path:"/profile",children:Object(g.jsx)(F,{userNameChanger:function(t){return e.userNameChanger(t)}})})]})]})})}}]),n}(s.a.Component),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};c.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(B,{})}),document.getElementById("root")),P()}},[[66,1,2]]]);
//# sourceMappingURL=main.86fe9a4e.chunk.js.map